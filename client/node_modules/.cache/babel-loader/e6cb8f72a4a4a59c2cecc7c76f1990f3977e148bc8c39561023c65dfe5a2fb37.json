{"ast":null,"code":"var _jsxFileName = \"/Users/sudeesmer/Desktop/FEELLINK/client/src/components/WorkCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiHeart, FiEye, FiTrendingUp, FiMessageCircle, FiSend } from 'react-icons/fi';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useTheme } from '../contexts/ThemeContext';\n// import toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = styled.div`\n  background: ${props => props.theme.surface};\n  border: none;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  position: relative;\n  height: auto;\n  width: 420px;\n  flex-shrink: 0;\n  margin: 0;\n\n  &:hover {\n    transform: none;\n    box-shadow: none;\n  }\n\n  @media (max-width: 768px) {\n    width: 340px;\n  }\n\n  @media (max-width: 480px) {\n    width: 320px;\n  }\n`;\n_c = Card;\nconst ImageContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 250px;\n  overflow: hidden;\n  background: #1a1a1a;\n`;\n_c2 = ImageContainer;\nconst WorkImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n\n  ${Card}:hover & {\n    transform: scale(1.05);\n  }\n`;\n_c3 = WorkImage;\nconst Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0) 0%,\n    rgba(0, 0, 0, 0.7) 100%\n  );\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n\n  ${Card}:hover & {\n    opacity: 1;\n  }\n`;\n\n// Trend ikonu\nconst TrendIcon = styled.div`\n  position: relative;\n  width: 28px;\n  height: 28px;\n  background: linear-gradient(135deg, #FF6B35, #F7931E);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 12px;\n  box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);\n  }\n`;\n\n// Rozet detayları container\n_c4 = TrendIcon;\nconst BadgeDetails = styled.div`\n  position: absolute;\n  top: 50px;\n  right: 12px;\n  display: ${props => props.show ? 'flex' : 'none'};\n  flex-direction: column;\n  gap: 4px;\n  z-index: 15;\n  pointer-events: auto;\n`;\n\n// Rozet item\n_c5 = BadgeDetails;\nconst BadgeItem = styled.div`\n  position: relative;\n  width: 28px;\n  height: 28px;\n  background: ${props => props.bgColor || 'rgba(255, 255, 255, 0.95)'};\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  pointer-events: ${props => props.isVisible ? 'auto' : 'none'};\n  opacity: ${props => props.isVisible ? 1 : 0};\n  transform: ${props => props.isVisible ? 'translateY(0) scale(1)' : 'translateY(-10px) scale(0.8)'};\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n\n  &:active {\n    transform: scale(0.8);\n    transition: transform 0.1s ease;\n  }\n`;\n\n// Rozet açıklama tooltip\n_c6 = BadgeItem;\nconst BadgeTooltip = styled.div`\n  position: absolute;\n  right: 40px;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 8px 12px;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n  white-space: nowrap;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.2s ease;\n  z-index: 20;\n\n  ${BadgeItem}:hover & {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    left: 100%;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 0;\n    height: 0;\n    border: 6px solid transparent;\n    border-left-color: rgba(0, 0, 0, 0.8);\n  }\n`;\n\n// Instagram benzeri post içeriği\n_c7 = BadgeTooltip;\nconst PostContent = styled.div`\n  padding: 12px 16px;\n  background: ${props => props.theme.surface};\n  border-top: 1px solid #262626;\n`;\n_c8 = PostContent;\nconst PostHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n`;\n_c9 = PostHeader;\nconst UserAvatar = styled.div`\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #FF6B35;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 300;\n  font-size: 12px;\n  flex-shrink: 0;\n`;\n_c0 = UserAvatar;\nconst UserAvatarImg = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  object-fit: cover;\n`;\n_c1 = UserAvatarImg;\nconst UserInfo = styled.div`\n  flex: 1;\n`;\n_c10 = UserInfo;\nconst UserName = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n_c11 = UserName;\nconst PostActions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 1px;\n`;\nconst ActionButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme.text};\n  font-size: 17px;\n  cursor: pointer;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: #FF6B35;\n  }\n`;\nconst LikesCount = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 13px;\n  margin-bottom: 4px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\nconst PostTitle = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 16px;\n  line-height: 1.3;\n  margin-bottom: 4px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n_c12 = PostTitle;\nconst PostDescription = styled.div`\n  color: #8e8e8e;\n  font-size: 14px;\n  line-height: 1.4;\n  margin-bottom: 8px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\nconst PostCaption = styled.div`\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  line-height: 1.4;\n  margin-bottom: 8px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n_c13 = PostCaption;\nconst PostTime = styled.div`\n  color: #8e8e8e;\n  font-size: 12px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\nconst PostStats = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 16px;\n  margin-top: 8px;\n  padding-top: 8px;\n`;\n_c14 = PostStats;\nconst StatItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: #8e8e8e;\n  font-size: 12px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\n// Yorum bölümü için styled components\n_c15 = StatItem;\nconst CommentsSection = styled.div`\n  border-top: 1px solid #262626;\n  padding: 12px 16px;\n  background: ${props => props.theme.surface};\n`;\n_c16 = CommentsSection;\nconst CommentsHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n`;\n_c17 = CommentsHeader;\nconst CommentsTitle = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n`;\n_c18 = CommentsTitle;\nconst CommentsList = styled.div`\n  max-height: 200px;\n  overflow-y: auto;\n  margin-bottom: 12px;\n`;\n_c19 = CommentsList;\nconst CommentItem = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 8px;\n  padding: 8px;\n  background: rgba(255, 255, 255, 0.02);\n  border-radius: 8px;\n`;\n_c20 = CommentItem;\nconst CommentAvatar = styled.div`\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #FF6B35;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n  font-size: 10px;\n  flex-shrink: 0;\n`;\n_c21 = CommentAvatar;\nconst CommentContent = styled.div`\n  flex: 1;\n`;\n_c22 = CommentContent;\nconst CommentAuthor = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 12px;\n  margin-bottom: 2px;\n`;\n_c23 = CommentAuthor;\nconst CommentText = styled.div`\n  color: #8e8e8e;\n  font-size: 12px;\n  line-height: 1.4;\n`;\n_c24 = CommentText;\nconst CommentForm = styled.form`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n`;\n_c25 = CommentForm;\nconst CommentInput = styled.input`\n  flex: 1;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid #262626;\n  border-radius: 20px;\n  padding: 8px 12px;\n  color: ${props => props.theme.text};\n  font-size: 12px;\n  outline: none;\n  transition: all 0.2s ease;\n\n  &:focus {\n    border-color: #FF6B35;\n    background: rgba(255, 255, 255, 0.08);\n  }\n\n  &::placeholder {\n    color: #8e8e8e;\n  }\n`;\n_c26 = CommentInput;\nconst CommentSubmitButton = styled.button`\n  background: #FF6B35;\n  border: none;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #F7931E;\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    background: #666;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c27 = CommentSubmitButton;\nconst Title = styled.h3`\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  margin-bottom: 6px;\n  line-height: 1.2;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n`;\nconst Author = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n`;\nconst AuthorAvatar = styled.div`\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: ${props => props.theme.gradient};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${props => props.theme.text};\n  font-weight: 600;\n  font-size: 0.2rem;\n  border: none;\n`;\nconst AuthorAvatarImg = styled.img`\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  object-fit: cover;\n`;\nconst AuthorInfo = styled.div`\n  flex: 1;\n`;\nconst AuthorName = styled.div`\n  font-weight: 500;\n  color: ${props => props.theme.text};\n  font-size: 0.8rem;\n`;\nconst AuthorUsername = styled.div`\n  color: rgba(255, 255, 255, 0.7);\n  font-size: 0.7rem;\n`;\nconst Stats = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-top: 8px;\n`;\nconst Category = styled.div`\n  display: inline-block;\n  padding: 3px 8px;\n  background: rgba(255, 255, 255, 0.2);\n  color: ${props => props.theme.text};\n  border-radius: 12px;\n  font-size: 0.7rem;\n  font-weight: 500;\n  margin-bottom: 8px;\n  backdrop-filter: blur(10px);\n`;\nconst WorkCard = ({\n  work\n}) => {\n  _s();\n  var _work$likes, _work$likes2, _work$images, _work$images2, _work$author, _work$author2, _work$author3;\n  const {\n    user\n  } = useAuth();\n  // const [isLiked, setIsLiked] = useState(work.likes?.includes(user?._id) || false);\n  // const [isSaved, setIsSaved] = useState(user?.savedWorks?.includes(work._id) || false);\n  const [likeCount] = useState(work.likeCount || ((_work$likes = work.likes) === null || _work$likes === void 0 ? void 0 : _work$likes.length) || 0);\n  const [showBadgeDetails, setShowBadgeDetails] = useState(false);\n  const [visibleBadges, setVisibleBadges] = useState([]);\n\n  // Yorum sistemi için state'ler\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [isSubmittingComment, setIsSubmittingComment] = useState(false);\n\n  // Yorumları API'den yükle\n  useEffect(() => {\n    loadComments();\n  }, [work._id]);\n  const loadComments = async () => {\n    try {\n      const response = await fetch(`/api/comments/${work._id}`);\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          setComments(result.data);\n        }\n      }\n    } catch (error) {\n      console.error('Yorumlar yüklenirken hata:', error);\n    }\n  };\n\n  // Trend ikonu için basit mantık - bazı eserlerde göster\n  const isTrending = (work.likeCount || ((_work$likes2 = work.likes) === null || _work$likes2 === void 0 ? void 0 : _work$likes2.length) || 0) > 50;\n\n  // Rozet türleri\n  const badgeTypes = {\n    star: {\n      emoji: '🏆',\n      name: 'Sahnenin Yıldızı Rozeti',\n      color: 'rgba(255, 215, 0, 1)'\n    },\n    echo: {\n      emoji: '✨',\n      name: 'Sanatın Yankısı Rozeti',\n      color: 'rgba(255, 105, 180, 1)'\n    },\n    light: {\n      emoji: '🖌️',\n      name: 'Yaratıcılığın Işığı Rozeti',\n      color: 'rgba(30, 144, 255, 1)'\n    },\n    inspiration: {\n      emoji: '🌿',\n      name: 'İlham Kaynağı Rozeti',\n      color: 'rgba(50, 205, 50, 1)'\n    },\n    horizons: {\n      emoji: '🌟',\n      name: 'Yeni Ufuklar Rozeti',\n      color: 'rgba(138, 43, 226, 1)'\n    }\n  };\n\n  // Trend ikonuna hover fonksiyonu\n  const handleTrendHover = () => {\n    setShowBadgeDetails(true);\n    setVisibleBadges([]);\n    const badgeKeys = Object.keys(badgeTypes);\n    badgeKeys.forEach((key, index) => {\n      setTimeout(() => {\n        setVisibleBadges(prev => [...prev, key]);\n      }, index * 150); // Her rozet 150ms arayla çıksın\n    });\n  };\n\n  // Trend ikonundan çıkma fonksiyonu\n  const handleTrendLeave = () => {\n    setShowBadgeDetails(false);\n    setVisibleBadges([]);\n  };\n\n  // Rozet tıklama fonksiyonu\n  const handleBadgeClick = (badgeKey, badgeName) => {\n    console.log(`${badgeName} rozetine tıklandı!`);\n\n    // Görsel feedback için rozet animasyonu\n    const badgeElement = document.querySelector(`[data-badge=\"${badgeKey}\"]`);\n    if (badgeElement) {\n      badgeElement.style.transform = 'scale(0.8)';\n      setTimeout(() => {\n        badgeElement.style.transform = 'scale(1.1)';\n        setTimeout(() => {\n          badgeElement.style.transform = 'scale(1)';\n        }, 150);\n      }, 100);\n    }\n\n    // Burada rozet tıklama işlemi yapılabilir\n    // Örneğin: toast mesajı, modal açma, vs.\n  };\n\n  // const handleLike = async (e) => {\n  //   e.preventDefault();\n  //   e.stopPropagation();\n\n  //   if (!user) {\n  //     toast.error('Beğenmek için giriş yapmalısınız');\n  //     return;\n  //   }\n\n  //   try {\n  //     const result = await likeWork(work._id);\n  //     if (result.success) {\n  //       setIsLiked(!isLiked);\n  //       setLikeCount(result.data.likeCount);\n  //     }\n  //   } catch (error) {\n  //     console.error('Like error:', error);\n  //   }\n  // };\n\n  // const handleSave = async (e) => {\n  //   e.preventDefault();\n  //   e.stopPropagation();\n\n  //   if (!user) {\n  //     toast.error('Kaydetmek için giriş yapmalısınız');\n  //     return;\n  //   }\n\n  //   try {\n  //     const result = await saveWork(work._id);\n  //     if (result.success) {\n  //       setIsSaved(!isSaved);\n  //     }\n  //   } catch (error) {\n  //     console.error('Save error:', error);\n  //   }\n  // };\n\n  // Yorum gönderme fonksiyonu\n  const handleSubmitComment = async e => {\n    e.preventDefault();\n    if (!user) {\n      alert('Yorum yapmak için giriş yapmalısınız');\n      return;\n    }\n    if (!newComment.trim()) {\n      return;\n    }\n    setIsSubmittingComment(true);\n    try {\n      // API'ye yorum gönder\n      const response = await fetch('/api/comments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          workId: work._id,\n          userId: user._id,\n          username: user.username || user.email,\n          content: newComment.trim()\n        })\n      });\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          // Formu temizle\n          setNewComment('');\n\n          // Başarı mesajı\n          alert(result.message);\n\n          // Yorumları yeniden yükle\n          loadComments();\n        } else {\n          alert(result.message || 'Yorum gönderilirken bir hata oluştu.');\n        }\n      } else {\n        alert('Yorum gönderilirken bir hata oluştu.');\n      }\n    } catch (error) {\n      console.error('Yorum gönderme hatası:', error);\n      alert('Yorum gönderilirken bir hata oluştu.');\n    } finally {\n      setIsSubmittingComment(false);\n    }\n  };\n  const mainImage = ((_work$images = work.images) === null || _work$images === void 0 ? void 0 : _work$images.find(img => img.isMain)) || ((_work$images2 = work.images) === null || _work$images2 === void 0 ? void 0 : _work$images2[0]);\n\n  // Instagram benzeri mock veriler\n  const mockUser = {\n    name: ((_work$author = work.author) === null || _work$author === void 0 ? void 0 : _work$author.name) || 'Sanatçı',\n    username: ((_work$author2 = work.author) === null || _work$author2 === void 0 ? void 0 : _work$author2.username) || 'sanatci',\n    avatar: ((_work$author3 = work.author) === null || _work$author3 === void 0 ? void 0 : _work$author3.avatar) || null\n  };\n  const mockCaption = work.description || `${work.title} - Bu eser bana ilham veriyor ✨`;\n  const mockLikes = likeCount;\n  // const mockComments = Math.floor(Math.random() * 50) + 10;\n  const mockViews = work.views || 1000; // Sabit değer kullan\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(ImageContainer, {\n      children: [mainImage ? /*#__PURE__*/_jsxDEV(WorkImage, {\n        src: mainImage.url,\n        alt: work.title,\n        loading: \"lazy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%',\n          height: '100%',\n          background: 'linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: '#2C1810',\n          fontSize: '2rem'\n        },\n        children: \"\\uD83C\\uDFA8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }, this), isTrending && /*#__PURE__*/_jsxDEV(\"div\", {\n        onMouseEnter: handleTrendHover,\n        onMouseLeave: handleTrendLeave,\n        style: {\n          position: 'absolute',\n          top: '12px',\n          right: '12px',\n          zIndex: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(TrendIcon, {\n          children: /*#__PURE__*/_jsxDEV(FiTrendingUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BadgeDetails, {\n          show: showBadgeDetails,\n          children: Object.entries(badgeTypes).map(([key, badge]) => /*#__PURE__*/_jsxDEV(BadgeItem, {\n            bgColor: badge.color,\n            isVisible: visibleBadges.includes(key),\n            onClick: () => handleBadgeClick(key, badge.name),\n            \"data-badge\": key,\n            children: [badge.emoji, /*#__PURE__*/_jsxDEV(BadgeTooltip, {\n              children: badge.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 19\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostContent, {\n      children: [/*#__PURE__*/_jsxDEV(PostHeader, {\n        children: [mockUser.avatar ? /*#__PURE__*/_jsxDEV(UserAvatarImg, {\n          src: mockUser.avatar,\n          alt: mockUser.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(UserAvatar, {\n          children: mockUser.name.charAt(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UserInfo, {\n          children: /*#__PURE__*/_jsxDEV(UserName, {\n            children: mockUser.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PostTitle, {\n        children: work.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PostCaption, {\n        children: mockCaption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 771,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PostStats, {\n        children: [/*#__PURE__*/_jsxDEV(StatItem, {\n          children: [/*#__PURE__*/_jsxDEV(FiHeart, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 13\n          }, this), mockLikes]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatItem, {\n          children: [/*#__PURE__*/_jsxDEV(FiEye, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 13\n          }, this), mockViews]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 753,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CommentsSection, {\n      theme: theme,\n      children: [/*#__PURE__*/_jsxDEV(CommentsHeader, {\n        children: /*#__PURE__*/_jsxDEV(CommentsTitle, {\n          theme: theme,\n          children: [/*#__PURE__*/_jsxDEV(FiMessageCircle, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 13\n          }, this), \"Yorumlar (\", comments.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 9\n      }, this), comments.length > 0 && /*#__PURE__*/_jsxDEV(CommentsList, {\n        children: comments.map(comment => /*#__PURE__*/_jsxDEV(CommentItem, {\n          children: [/*#__PURE__*/_jsxDEV(CommentAvatar, {\n            children: comment.username.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CommentContent, {\n            children: [/*#__PURE__*/_jsxDEV(CommentAuthor, {\n              theme: theme,\n              children: comment.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(CommentText, {\n              children: comment.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 17\n          }, this)]\n        }, comment._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n        onSubmit: handleSubmitComment,\n        children: [/*#__PURE__*/_jsxDEV(CommentInput, {\n          theme: theme,\n          type: \"text\",\n          placeholder: \"Yorumunuzu yaz\\u0131n...\",\n          value: newComment,\n          onChange: e => setNewComment(e.target.value),\n          disabled: isSubmittingComment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommentSubmitButton, {\n          type: \"submit\",\n          disabled: !newComment.trim() || isSubmittingComment,\n          children: /*#__PURE__*/_jsxDEV(FiSend, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 696,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkCard, \"oZTZhNgeFu9TuqidbN9dcaiQgLQ=\", false, function () {\n  return [useAuth];\n});\n_c28 = WorkCard;\nexport default WorkCard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"ImageContainer\");\n$RefreshReg$(_c3, \"WorkImage\");\n$RefreshReg$(_c4, \"TrendIcon\");\n$RefreshReg$(_c5, \"BadgeDetails\");\n$RefreshReg$(_c6, \"BadgeItem\");\n$RefreshReg$(_c7, \"BadgeTooltip\");\n$RefreshReg$(_c8, \"PostContent\");\n$RefreshReg$(_c9, \"PostHeader\");\n$RefreshReg$(_c0, \"UserAvatar\");\n$RefreshReg$(_c1, \"UserAvatarImg\");\n$RefreshReg$(_c10, \"UserInfo\");\n$RefreshReg$(_c11, \"UserName\");\n$RefreshReg$(_c12, \"PostTitle\");\n$RefreshReg$(_c13, \"PostCaption\");\n$RefreshReg$(_c14, \"PostStats\");\n$RefreshReg$(_c15, \"StatItem\");\n$RefreshReg$(_c16, \"CommentsSection\");\n$RefreshReg$(_c17, \"CommentsHeader\");\n$RefreshReg$(_c18, \"CommentsTitle\");\n$RefreshReg$(_c19, \"CommentsList\");\n$RefreshReg$(_c20, \"CommentItem\");\n$RefreshReg$(_c21, \"CommentAvatar\");\n$RefreshReg$(_c22, \"CommentContent\");\n$RefreshReg$(_c23, \"CommentAuthor\");\n$RefreshReg$(_c24, \"CommentText\");\n$RefreshReg$(_c25, \"CommentForm\");\n$RefreshReg$(_c26, \"CommentInput\");\n$RefreshReg$(_c27, \"CommentSubmitButton\");\n$RefreshReg$(_c28, \"WorkCard\");","map":{"version":3,"names":["React","useState","useEffect","styled","FiHeart","FiEye","FiTrendingUp","FiMessageCircle","FiSend","useAuth","useTheme","jsxDEV","_jsxDEV","Card","div","props","theme","surface","_c","ImageContainer","_c2","WorkImage","img","_c3","Overlay","TrendIcon","_c4","BadgeDetails","show","_c5","BadgeItem","bgColor","isVisible","_c6","BadgeTooltip","_c7","PostContent","_c8","PostHeader","_c9","UserAvatar","_c0","UserAvatarImg","_c1","UserInfo","_c10","UserName","text","_c11","PostActions","ActionButton","button","LikesCount","PostTitle","_c12","PostDescription","PostCaption","_c13","PostTime","PostStats","_c14","StatItem","_c15","CommentsSection","_c16","CommentsHeader","_c17","CommentsTitle","_c18","CommentsList","_c19","CommentItem","_c20","CommentAvatar","_c21","CommentContent","_c22","CommentAuthor","_c23","CommentText","_c24","CommentForm","form","_c25","CommentInput","input","_c26","CommentSubmitButton","_c27","Title","h3","Author","AuthorAvatar","gradient","AuthorAvatarImg","AuthorInfo","AuthorName","AuthorUsername","Stats","Category","WorkCard","work","_s","_work$likes","_work$likes2","_work$images","_work$images2","_work$author","_work$author2","_work$author3","user","likeCount","likes","length","showBadgeDetails","setShowBadgeDetails","visibleBadges","setVisibleBadges","comments","setComments","newComment","setNewComment","isSubmittingComment","setIsSubmittingComment","loadComments","_id","response","fetch","ok","result","json","success","data","error","console","isTrending","badgeTypes","star","emoji","name","color","echo","light","inspiration","horizons","handleTrendHover","badgeKeys","Object","keys","forEach","key","index","setTimeout","prev","handleTrendLeave","handleBadgeClick","badgeKey","badgeName","log","badgeElement","document","querySelector","style","transform","handleSubmitComment","e","preventDefault","alert","trim","method","headers","body","JSON","stringify","workId","userId","username","email","content","message","mainImage","images","find","isMain","mockUser","author","avatar","mockCaption","description","title","mockLikes","mockViews","views","children","src","url","alt","loading","fileName","_jsxFileName","lineNumber","columnNumber","width","height","background","display","alignItems","justifyContent","fontSize","onMouseEnter","onMouseLeave","position","top","right","zIndex","entries","map","badge","includes","onClick","charAt","size","comment","toUpperCase","onSubmit","type","placeholder","value","onChange","target","disabled","_c28","$RefreshReg$"],"sources":["/Users/sudeesmer/Desktop/FEELLINK/client/src/components/WorkCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { FiHeart, FiEye, FiTrendingUp, FiMessageCircle, FiSend } from 'react-icons/fi';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useTheme } from '../contexts/ThemeContext';\n// import toast from 'react-hot-toast';\n\nconst Card = styled.div`\n  background: ${props => props.theme.surface};\n  border: none;\n  border-radius: 12px;\n  overflow: hidden;\n  cursor: pointer;\n  position: relative;\n  height: auto;\n  width: 420px;\n  flex-shrink: 0;\n  margin: 0;\n\n  &:hover {\n    transform: none;\n    box-shadow: none;\n  }\n\n  @media (max-width: 768px) {\n    width: 340px;\n  }\n\n  @media (max-width: 480px) {\n    width: 320px;\n  }\n`;\n\nconst ImageContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 250px;\n  overflow: hidden;\n  background: #1a1a1a;\n`;\n\nconst WorkImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n\n  ${Card}:hover & {\n    transform: scale(1.05);\n  }\n`;\n\nconst Overlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(\n    to bottom,\n    rgba(0, 0, 0, 0) 0%,\n    rgba(0, 0, 0, 0.7) 100%\n  );\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n\n  ${Card}:hover & {\n    opacity: 1;\n  }\n`;\n\n// Trend ikonu\nconst TrendIcon = styled.div`\n  position: relative;\n  width: 28px;\n  height: 28px;\n  background: linear-gradient(135deg, #FF6B35, #F7931E);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 12px;\n  box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);\n  }\n`;\n\n// Rozet detayları container\nconst BadgeDetails = styled.div`\n  position: absolute;\n  top: 50px;\n  right: 12px;\n  display: ${props => props.show ? 'flex' : 'none'};\n  flex-direction: column;\n  gap: 4px;\n  z-index: 15;\n  pointer-events: auto;\n`;\n\n// Rozet item\nconst BadgeItem = styled.div`\n  position: relative;\n  width: 28px;\n  height: 28px;\n  background: ${props => props.bgColor || 'rgba(255, 255, 255, 0.95)'};\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  pointer-events: ${props => props.isVisible ? 'auto' : 'none'};\n  opacity: ${props => props.isVisible ? 1 : 0};\n  transform: ${props => props.isVisible ? 'translateY(0) scale(1)' : 'translateY(-10px) scale(0.8)'};\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n\n  &:active {\n    transform: scale(0.8);\n    transition: transform 0.1s ease;\n  }\n`;\n\n// Rozet açıklama tooltip\nconst BadgeTooltip = styled.div`\n  position: absolute;\n  right: 40px;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 8px 12px;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n  white-space: nowrap;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.2s ease;\n  z-index: 20;\n\n  ${BadgeItem}:hover & {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    left: 100%;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 0;\n    height: 0;\n    border: 6px solid transparent;\n    border-left-color: rgba(0, 0, 0, 0.8);\n  }\n`;\n\n\n\n\n\n// Instagram benzeri post içeriği\nconst PostContent = styled.div`\n  padding: 12px 16px;\n  background: ${props => props.theme.surface};\n  border-top: 1px solid #262626;\n`;\n\nconst PostHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n`;\n\nconst UserAvatar = styled.div`\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #FF6B35;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 300;\n  font-size: 12px;\n  flex-shrink: 0;\n`;\n\nconst UserAvatarImg = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  object-fit: cover;\n`;\n\nconst UserInfo = styled.div`\n  flex: 1;\n`;\n\nconst UserName = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PostActions = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 1px;\n`;\n\nconst ActionButton = styled.button`\n  background: none;\n  border: none;\n  color: ${props => props.theme.text};\n  font-size: 17px;\n  cursor: pointer;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: #FF6B35;\n  }\n`;\n\nconst LikesCount = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 13px;\n  margin-bottom: 4px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PostTitle = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 16px;\n  line-height: 1.3;\n  margin-bottom: 4px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PostDescription = styled.div`\n  color: #8e8e8e;\n  font-size: 14px;\n  line-height: 1.4;\n  margin-bottom: 8px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PostCaption = styled.div`\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  line-height: 1.4;\n  margin-bottom: 8px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PostTime = styled.div`\n  color: #8e8e8e;\n  font-size: 12px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PostStats = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 16px;\n  margin-top: 8px;\n  padding-top: 8px;\n`;\n\nconst StatItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: #8e8e8e;\n  font-size: 12px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\n// Yorum bölümü için styled components\nconst CommentsSection = styled.div`\n  border-top: 1px solid #262626;\n  padding: 12px 16px;\n  background: ${props => props.theme.surface};\n`;\n\nconst CommentsHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n`;\n\nconst CommentsTitle = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n`;\n\nconst CommentsList = styled.div`\n  max-height: 200px;\n  overflow-y: auto;\n  margin-bottom: 12px;\n`;\n\nconst CommentItem = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 8px;\n  padding: 8px;\n  background: rgba(255, 255, 255, 0.02);\n  border-radius: 8px;\n`;\n\nconst CommentAvatar = styled.div`\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #FF6B35;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n  font-size: 10px;\n  flex-shrink: 0;\n`;\n\nconst CommentContent = styled.div`\n  flex: 1;\n`;\n\nconst CommentAuthor = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  font-size: 12px;\n  margin-bottom: 2px;\n`;\n\nconst CommentText = styled.div`\n  color: #8e8e8e;\n  font-size: 12px;\n  line-height: 1.4;\n`;\n\nconst CommentForm = styled.form`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n`;\n\nconst CommentInput = styled.input`\n  flex: 1;\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid #262626;\n  border-radius: 20px;\n  padding: 8px 12px;\n  color: ${props => props.theme.text};\n  font-size: 12px;\n  outline: none;\n  transition: all 0.2s ease;\n\n  &:focus {\n    border-color: #FF6B35;\n    background: rgba(255, 255, 255, 0.08);\n  }\n\n  &::placeholder {\n    color: #8e8e8e;\n  }\n`;\n\nconst CommentSubmitButton = styled.button`\n  background: #FF6B35;\n  border: none;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: #F7931E;\n    transform: scale(1.05);\n  }\n\n  &:disabled {\n    background: #666;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst Title = styled.h3`\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  margin-bottom: 6px;\n  line-height: 1.2;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n`;\n\nconst Author = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n`;\n\nconst AuthorAvatar = styled.div`\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: ${props => props.theme.gradient};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${props => props.theme.text};\n  font-weight: 600;\n  font-size: 0.2rem;\n  border: none;\n`;\n\nconst AuthorAvatarImg = styled.img`\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  object-fit: cover;\n`;\n\nconst AuthorInfo = styled.div`\n  flex: 1;\n`;\n\nconst AuthorName = styled.div`\n  font-weight: 500;\n  color: ${props => props.theme.text};\n  font-size: 0.8rem;\n`;\n\nconst AuthorUsername = styled.div`\n  color: rgba(255, 255, 255, 0.7);\n  font-size: 0.7rem;\n`;\n\nconst Stats = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-top: 8px;\n`;\n\n\nconst Category = styled.div`\n  display: inline-block;\n  padding: 3px 8px;\n  background: rgba(255, 255, 255, 0.2);\n  color: ${props => props.theme.text};\n  border-radius: 12px;\n  font-size: 0.7rem;\n  font-weight: 500;\n  margin-bottom: 8px;\n  backdrop-filter: blur(10px);\n`;\n\nconst WorkCard = ({ work }) => {\n  const { user } = useAuth();\n  // const [isLiked, setIsLiked] = useState(work.likes?.includes(user?._id) || false);\n  // const [isSaved, setIsSaved] = useState(user?.savedWorks?.includes(work._id) || false);\n  const [likeCount] = useState(work.likeCount || work.likes?.length || 0);\n  const [showBadgeDetails, setShowBadgeDetails] = useState(false);\n  const [visibleBadges, setVisibleBadges] = useState([]);\n  \n  // Yorum sistemi için state'ler\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [isSubmittingComment, setIsSubmittingComment] = useState(false);\n\n  // Yorumları API'den yükle\n  useEffect(() => {\n    loadComments();\n  }, [work._id]);\n\n  const loadComments = async () => {\n    try {\n      const response = await fetch(`/api/comments/${work._id}`);\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          setComments(result.data);\n        }\n      }\n    } catch (error) {\n      console.error('Yorumlar yüklenirken hata:', error);\n    }\n  };\n  \n  // Trend ikonu için basit mantık - bazı eserlerde göster\n  const isTrending = (work.likeCount || work.likes?.length || 0) > 50;\n  \n  // Rozet türleri\n  const badgeTypes = {\n    star: { emoji: '🏆', name: 'Sahnenin Yıldızı Rozeti', color: 'rgba(255, 215, 0, 1)' },\n    echo: { emoji: '✨', name: 'Sanatın Yankısı Rozeti', color: 'rgba(255, 105, 180, 1)' },\n    light: { emoji: '🖌️', name: 'Yaratıcılığın Işığı Rozeti', color: 'rgba(30, 144, 255, 1)' },\n    inspiration: { emoji: '🌿', name: 'İlham Kaynağı Rozeti', color: 'rgba(50, 205, 50, 1)' },\n    horizons: { emoji: '🌟', name: 'Yeni Ufuklar Rozeti', color: 'rgba(138, 43, 226, 1)' }\n  };\n\n  // Trend ikonuna hover fonksiyonu\n  const handleTrendHover = () => {\n    setShowBadgeDetails(true);\n    setVisibleBadges([]);\n    \n    const badgeKeys = Object.keys(badgeTypes);\n    badgeKeys.forEach((key, index) => {\n      setTimeout(() => {\n        setVisibleBadges(prev => [...prev, key]);\n      }, index * 150); // Her rozet 150ms arayla çıksın\n    });\n  };\n\n  // Trend ikonundan çıkma fonksiyonu\n  const handleTrendLeave = () => {\n    setShowBadgeDetails(false);\n    setVisibleBadges([]);\n  };\n\n  // Rozet tıklama fonksiyonu\n  const handleBadgeClick = (badgeKey, badgeName) => {\n    console.log(`${badgeName} rozetine tıklandı!`);\n    \n    // Görsel feedback için rozet animasyonu\n    const badgeElement = document.querySelector(`[data-badge=\"${badgeKey}\"]`);\n    if (badgeElement) {\n      badgeElement.style.transform = 'scale(0.8)';\n      setTimeout(() => {\n        badgeElement.style.transform = 'scale(1.1)';\n        setTimeout(() => {\n          badgeElement.style.transform = 'scale(1)';\n        }, 150);\n      }, 100);\n    }\n    \n    // Burada rozet tıklama işlemi yapılabilir\n    // Örneğin: toast mesajı, modal açma, vs.\n  };\n  \n\n  // const handleLike = async (e) => {\n  //   e.preventDefault();\n  //   e.stopPropagation();\n    \n  //   if (!user) {\n  //     toast.error('Beğenmek için giriş yapmalısınız');\n  //     return;\n  //   }\n\n  //   try {\n  //     const result = await likeWork(work._id);\n  //     if (result.success) {\n  //       setIsLiked(!isLiked);\n  //       setLikeCount(result.data.likeCount);\n  //     }\n  //   } catch (error) {\n  //     console.error('Like error:', error);\n  //   }\n  // };\n\n  // const handleSave = async (e) => {\n  //   e.preventDefault();\n  //   e.stopPropagation();\n    \n  //   if (!user) {\n  //     toast.error('Kaydetmek için giriş yapmalısınız');\n  //     return;\n  //   }\n\n  //   try {\n  //     const result = await saveWork(work._id);\n  //     if (result.success) {\n  //       setIsSaved(!isSaved);\n  //     }\n  //   } catch (error) {\n  //     console.error('Save error:', error);\n  //   }\n  // };\n\n  // Yorum gönderme fonksiyonu\n  const handleSubmitComment = async (e) => {\n    e.preventDefault();\n    \n    if (!user) {\n      alert('Yorum yapmak için giriş yapmalısınız');\n      return;\n    }\n\n    if (!newComment.trim()) {\n      return;\n    }\n\n    setIsSubmittingComment(true);\n\n    try {\n      // API'ye yorum gönder\n      const response = await fetch('/api/comments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          workId: work._id,\n          userId: user._id,\n          username: user.username || user.email,\n          content: newComment.trim()\n        })\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        if (result.success) {\n          // Formu temizle\n          setNewComment('');\n          \n          // Başarı mesajı\n          alert(result.message);\n          \n          // Yorumları yeniden yükle\n          loadComments();\n        } else {\n          alert(result.message || 'Yorum gönderilirken bir hata oluştu.');\n        }\n      } else {\n        alert('Yorum gönderilirken bir hata oluştu.');\n      }\n\n    } catch (error) {\n      console.error('Yorum gönderme hatası:', error);\n      alert('Yorum gönderilirken bir hata oluştu.');\n    } finally {\n      setIsSubmittingComment(false);\n    }\n  };\n\n  const mainImage = work.images?.find(img => img.isMain) || work.images?.[0];\n\n  // Instagram benzeri mock veriler\n  const mockUser = {\n    name: work.author?.name || 'Sanatçı',\n    username: work.author?.username || 'sanatci',\n    avatar: work.author?.avatar || null\n  };\n\n  const mockCaption = work.description || `${work.title} - Bu eser bana ilham veriyor ✨`;\n  const mockLikes = likeCount;\n  // const mockComments = Math.floor(Math.random() * 50) + 10;\n  const mockViews = work.views || 1000; // Sabit değer kullan\n\n  return (\n    <Card>\n      <ImageContainer>\n        {mainImage ? (\n          <WorkImage \n            src={mainImage.url} \n            alt={work.title}\n            loading=\"lazy\"\n          />\n        ) : (\n          <div style={{ \n            width: '100%', \n            height: '100%', \n            background: 'linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: '#2C1810',\n            fontSize: '2rem'\n          }}>\n            🎨\n          </div>\n        )}\n        \n        {/* Trend ikonu */}\n        {isTrending && (\n          <div \n            onMouseEnter={handleTrendHover}\n            onMouseLeave={handleTrendLeave}\n            style={{ position: 'absolute', top: '12px', right: '12px', zIndex: 10 }}\n          >\n            <TrendIcon>\n              <FiTrendingUp />\n            </TrendIcon>\n            \n            <BadgeDetails \n              show={showBadgeDetails}\n            >\n              {Object.entries(badgeTypes).map(([key, badge]) => (\n                <BadgeItem \n                  key={key} \n                  bgColor={badge.color}\n                  isVisible={visibleBadges.includes(key)}\n                  onClick={() => handleBadgeClick(key, badge.name)}\n                  data-badge={key}\n                >\n                  {badge.emoji}\n                  <BadgeTooltip>\n                    {badge.name}\n                  </BadgeTooltip>\n                </BadgeItem>\n              ))}\n            </BadgeDetails>\n          </div>\n        )}\n        \n      </ImageContainer>\n      \n      <PostContent>\n        <PostHeader>\n          {mockUser.avatar ? (\n            <UserAvatarImg src={mockUser.avatar} alt={mockUser.name} />\n          ) : (\n            <UserAvatar>\n              {mockUser.name.charAt(0)}\n            </UserAvatar>\n          )}\n          <UserInfo>\n            <UserName>{mockUser.name}</UserName>\n          </UserInfo>\n        </PostHeader>\n        \n        <PostTitle>\n          {work.title}\n        </PostTitle>\n        \n        <PostCaption>\n          {mockCaption}\n        </PostCaption>\n        \n        \n        <PostStats>\n          <StatItem>\n            <FiHeart size={12} />\n            {mockLikes}\n          </StatItem>\n          <StatItem>\n            <FiEye size={12} />\n            {mockViews}\n          </StatItem>\n        </PostStats>\n      </PostContent>\n\n      {/* Yorum Bölümü */}\n      <CommentsSection theme={theme}>\n        <CommentsHeader>\n          <CommentsTitle theme={theme}>\n            <FiMessageCircle size={14} />\n            Yorumlar ({comments.length})\n          </CommentsTitle>\n        </CommentsHeader>\n\n        {/* Mevcut Yorumlar */}\n        {comments.length > 0 && (\n          <CommentsList>\n            {comments.map((comment) => (\n              <CommentItem key={comment._id}>\n                <CommentAvatar>\n                  {comment.username.charAt(0).toUpperCase()}\n                </CommentAvatar>\n                <CommentContent>\n                  <CommentAuthor theme={theme}>{comment.username}</CommentAuthor>\n                  <CommentText>{comment.content}</CommentText>\n                </CommentContent>\n              </CommentItem>\n            ))}\n          </CommentsList>\n        )}\n\n        {/* Yorum Formu */}\n        <CommentForm onSubmit={handleSubmitComment}>\n          <CommentInput\n            theme={theme}\n            type=\"text\"\n            placeholder=\"Yorumunuzu yazın...\"\n            value={newComment}\n            onChange={(e) => setNewComment(e.target.value)}\n            disabled={isSubmittingComment}\n          />\n          <CommentSubmitButton\n            type=\"submit\"\n            disabled={!newComment.trim() || isSubmittingComment}\n          >\n            <FiSend size={14} />\n          </CommentSubmitButton>\n        </CommentForm>\n      </CommentsSection>\n    </Card>\n  );\n};\n\nexport default WorkCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}